{controller "api/index"}

<form role="form" method="get" action="" class="form-inline">
	<select name="method" class="form-control" style="width:90px">
		{foreach [GET, PUT, POST, DELETE] as $m}
			<option {if $params.method == $m}selected="selected"{/if}>{$m}</option>
		{/foreach}
	</select>
	<select name="url" class="form-control" style="width:130px">
		{$index.options[':activity'] = [url => "/:activity"]}
		{$index.options[':client'] = [url => "/:client"]}
		{$index.options[':layouts'] = [url => "/:layouts"]}
		{$index.options[':models'] = [url => "/:models"]}
		{$index.options[':notes'] = [url => "/:notes"]}
		{$index.options[':notifications'] = [url => "/:notifications"]}
		{$index.options[':options'] = [url => "/:options"]}
		{$index.options[':sessions'] = [url => "/:sessions"]}
		{$index.options[':settings'] = [url => "/:settings"]}
		{$index.options[':templates'] = [url => "/:templates"]}
		{$index.options[':users'] = [url => "/:users"]}
		{foreach $index.options as $model}
			<option {if $params.url == $model.url}selected="selected"{/if} value="{$model.url}">{$model.url}</option>
		{/foreach}
	</select>
	<input type="text" name="rel_url" value="{$params.rel_url|escape|default:""}" placeholder="URI" id="urlinput" size="40" class="form-control" style="width:400px" />
	<button type="submit" class="btn btn-default">Go</button>
</form>

{if $params.method}
	<br />
	<code>
		<span>{$params.method|upper} {$index.url} ({$index.timing|round:3} seconds)</span>
		<pre>{$index.result|json_print|escape}</pre>
	</code>
{/if}

<script type="text/javascript">
	document.getElementById('urlinput').focus();
</script>
